@{
    ViewBag.Title = "Relatório Analítico de Métricas";
}

<h2>Relatório Analítico de Métricas</h2>

@using (Html.BeginForm("GerarRelatorioAnaliticoMetricas", "EnergyUsageDatas", FormMethod.Get, new { @id = "formConsultar", @name = "formConsultar" }))
{
    <div class="form-group">
        <label for="Ano">Período de ano:</label>
        <input type="text" class="form-control" name="anoInicial" id="anoInicial" placeholder="de" maxlength="4">
        <input type="text" class="form-control" name="anoFinal" id="anoFinal" placeholder="até" maxlength="4">
    </div>

    <button type="submit" class="btn btn-default">Consultar</button>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(document).ready(function () {
            //Validações do form
            $("#formConsultar").validate({ // initialize the plugin
                rules: {
                    anoInicial: {
                        required: true,
                        minlength: 4,
                        maxlenght: 4,
                        number: true
                    },
                    anoFinal: {
                        required: true,
                        minlength: 4,
                        maxlenght: 4,
                        number: true
                    }
                },
                messages: {
                    anoInicial: {
                        required: "Informe o ano inicial da consulta!",
                        minlength: "O ano deve ter 4 digítos!",
                        maxlenght: "O ano deve ter 4 digítos!",
                        number: "O ano deve conter apenas números!"
                    },
                    anoFinal: {
                        required: "Informe o ano final da consulta!",
                        minlength: "O ano deve ter 4 digítos!",
                        maxlenght: "O ano deve ter 4 digítos!",
                        number: "O ano deve conter apenas números!"
                    }
                } 
            })
        });
    </script>
}
